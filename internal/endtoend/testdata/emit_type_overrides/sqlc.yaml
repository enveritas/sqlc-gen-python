version: "2"
plugins:
  - name: py
    wasm:
      url: file://../../../../bin/sqlc-gen-python.wasm
      sha256: "a5d1ad0ead1ecadb0608684d7c7a04327762299b769e6cca9c8f838c5df89788"
sql:
  - schema: schema.sql
    queries: query.sql
    engine: postgresql
    codegen:
      - plugin: py
        out: db
        options:
          package: db
          emit_pydantic_models: true
          emit_sync_querier: true
          emit_async_querier: true
          overrides:
            - column: "books.payload"
              py_import: "my_lib.models"
              py_type: "BookPayload"
            - db_type: "jsonb"
              py_import: "my_lib.models"
              py_type: "JsonValue"
