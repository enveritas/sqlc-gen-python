version: "2"
plugins:
  - name: py
    wasm:
      url: file://../../../../bin/sqlc-gen-python.wasm
      sha256: "31717935ced1923fdaea102da0d345776c173df7fa6668120be8f7900a7fe938"
sql:
  - schema: schema.sql
    queries: query.sql
    engine: postgresql
    codegen:
      - plugin: py
        out: db
        options:
          package: db
          emit_pydantic_models: true
          emit_sync_querier: true
          emit_async_querier: true
          overrides:
            - column: "books.payload"
              py_import: "my_lib.models"
              py_type: "Payload"
